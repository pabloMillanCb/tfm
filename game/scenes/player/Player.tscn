[gd_scene load_steps=25 format=3 uid="uid://dt5id5s6k2sgf"]

[ext_resource type="Script" uid="uid://5bmlmj75pw2l" path="res://scenes/player/player.gd" id="1_ov1oi"]
[ext_resource type="Script" uid="uid://cml4nuk5k2ym2" path="res://utils/state_machine/state_machine.gd" id="1_wr5hl"]
[ext_resource type="Script" uid="uid://buyvsbbwh18js" path="res://scenes/player/states/idle.gd" id="2_20koh"]
[ext_resource type="Script" uid="uid://ep1jxwrfqff6" path="res://scenes/player/player_controller.gd" id="2_gfjak"]
[ext_resource type="Script" uid="uid://ctf5oc3fdynj7" path="res://scenes/player/states/move.gd" id="3_ov1oi"]
[ext_resource type="Script" uid="uid://dl8vgd7fwgpax" path="res://scenes/player/states/jump.gd" id="4_rn7t0"]
[ext_resource type="Script" uid="uid://bu3my6ax5bmxy" path="res://scenes/player/states/fall.gd" id="5_8qjgm"]
[ext_resource type="Script" uid="uid://b1sgfqw4kcqcm" path="res://scenes/player/states/atack.gd" id="6_ejd4k"]
[ext_resource type="Script" uid="uid://b4s7mu1t2g70i" path="res://scenes/player/states/prepare_teleport.gd" id="7_2xrq6"]
[ext_resource type="Script" uid="uid://e13wgd807ncy" path="res://scenes/player/states/release_teleport.gd" id="8_pi3ps"]
[ext_resource type="Script" uid="uid://cgw2ulqt8usnb" path="res://scenes/player/states/pogo.gd" id="9_kswpp"]
[ext_resource type="Script" uid="uid://bthgpd6o3txnl" path="res://scenes/player/states/hit.gd" id="10_v5i4m"]
[ext_resource type="Script" uid="uid://74lsldij4r8a" path="res://scenes/player/states/dead.gd" id="11_p1lr0"]
[ext_resource type="FontFile" uid="uid://76cnh3q142hy" path="res://assets/fonts/my 3x5 tiny mono pixel font.ttf" id="13_rn7t0"]
[ext_resource type="Texture2D" uid="uid://b4md6v6tb177l" path="res://scenes/player/assets/playe_tileset.png" id="14_rn7t0"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_gfjak"]

[sub_resource type="AtlasTexture" id="AtlasTexture_8qjgm"]
atlas = ExtResource("14_rn7t0")
region = Rect2(0, 0, 21, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_ejd4k"]
atlas = ExtResource("14_rn7t0")
region = Rect2(21, 0, 21, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_2xrq6"]
atlas = ExtResource("14_rn7t0")
region = Rect2(42, 0, 21, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_pi3ps"]
atlas = ExtResource("14_rn7t0")
region = Rect2(63, 0, 21, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_kswpp"]
atlas = ExtResource("14_rn7t0")
region = Rect2(84, 0, 21, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_v5i4m"]
atlas = ExtResource("14_rn7t0")
region = Rect2(189, 0, 21, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_p1lr0"]
atlas = ExtResource("14_rn7t0")
region = Rect2(210, 0, 21, 16)

[sub_resource type="SpriteFrames" id="SpriteFrames_180ig"]
animations = [{
"frames": [{
"duration": 3.0,
"texture": SubResource("AtlasTexture_8qjgm")
}, {
"duration": 0.75,
"texture": SubResource("AtlasTexture_ejd4k")
}, {
"duration": 0.75,
"texture": SubResource("AtlasTexture_2xrq6")
}, {
"duration": 0.75,
"texture": SubResource("AtlasTexture_pi3ps")
}, {
"duration": 0.75,
"texture": SubResource("AtlasTexture_kswpp")
}],
"loop": true,
"name": &"idle",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_v5i4m")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_p1lr0")
}],
"loop": true,
"name": &"move",
"speed": 5.0
}]

[node name="Player" type="CharacterBody2D"]
script = ExtResource("1_ov1oi")
debug_mode = true

[node name="BodyCollision" type="CollisionShape2D" parent="."]
shape = SubResource("RectangleShape2D_gfjak")

[node name="StateMachine" type="Node" parent="."]
script = ExtResource("1_wr5hl")

[node name="Idle" type="Node" parent="StateMachine"]
script = ExtResource("2_20koh")

[node name="Move" type="Node" parent="StateMachine"]
script = ExtResource("3_ov1oi")

[node name="Jump" type="Node" parent="StateMachine"]
script = ExtResource("4_rn7t0")

[node name="Falling" type="Node" parent="StateMachine"]
script = ExtResource("5_8qjgm")

[node name="Atack" type="Node" parent="StateMachine"]
script = ExtResource("6_ejd4k")

[node name="PrepareTeleport" type="Node" parent="StateMachine"]
script = ExtResource("7_2xrq6")

[node name="ReleaseTeleport" type="Node" parent="StateMachine"]
script = ExtResource("8_pi3ps")

[node name="Pogo" type="Node" parent="StateMachine"]
script = ExtResource("9_kswpp")

[node name="Hit" type="Node" parent="StateMachine"]
script = ExtResource("10_v5i4m")

[node name="Dead" type="Node" parent="StateMachine"]
script = ExtResource("11_p1lr0")

[node name="PlayerController" type="Node" parent="."]
script = ExtResource("2_gfjak")

[node name="PlayerSprites" type="AnimatedSprite2D" parent="."]
sprite_frames = SubResource("SpriteFrames_180ig")
animation = &"idle"

[node name="AnimationPlayer" type="AnimationPlayer" parent="PlayerSprites"]

[node name="DebugStateName" type="Label" parent="."]
unique_name_in_owner = true
offset_left = -22.0
offset_top = -29.0
offset_right = 27.0
offset_bottom = -6.0
theme_override_fonts/font = ExtResource("13_rn7t0")
theme_override_font_sizes/font_size = 12
text = "debug"
horizontal_alignment = 1
vertical_alignment = 1
