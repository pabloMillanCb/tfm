[gd_scene format=4 uid="uid://41x2lev8vbwx"]

[ext_resource type="Texture2D" uid="uid://vfxs0y5e4ovf" path="res://assets/tilemaps/tilemap.png" id="1_nlohp"]
[ext_resource type="PackedScene" uid="uid://bsg0351mx3b4u" path="res://addons/MetroidvaniaSystem/Nodes/RoomInstance.tscn" id="2_gpp8e"]
[ext_resource type="PackedScene" uid="uid://d2yrwjm7nsoje" path="res://scenes/world/spawn/RoomRespawn.tscn" id="3_qnosk"]
[ext_resource type="Script" uid="uid://vni7so5r3j4t" path="res://scenes/world/rooms/test/player.gd" id="4_yq6r3"]
[ext_resource type="Texture2D" uid="uid://bw5ifi7vfl5r6" path="res://assets/placeholders/gordo.png" id="5_4558p"]
[ext_resource type="Script" uid="uid://b0b5b0122frkg" path="res://scenes/world/rooms/test/enemy.gd" id="6_1f1c6"]
[ext_resource type="Texture2D" uid="uid://786exjf32kq" path="res://scenes/player/assets/player_head.png" id="6_1phjo"]

[sub_resource type="NavigationPolygon" id="NavigationPolygon_8rxc5"]
vertices = PackedVector2Array(8, 8, -8, 8, -8, -8, 8, -8)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)])
agent_radius = 0.0

[sub_resource type="NavigationPolygon" id="NavigationPolygon_1f1c6"]
vertices = PackedVector2Array(8, 8, -8, 8, -8, -8, 8, -8)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)])
agent_radius = 0.0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_ftega"]
texture = ExtResource("1_nlohp")
0:11/0 = 0
0:11/0/physics_layer_0/polygon_0/points = PackedVector2Array(-0.015651584, 0.0052171946, 8, -8, 8, 8, -8, 8)
1:11/0 = 0
1:11/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 0.0052171946, 0.015651584, 8, 8, -8, 8)
3:11/0 = 0
3:11/0/navigation_layer_0/polygon = SubResource("NavigationPolygon_8rxc5")
0:12/0 = 0
0:12/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
1:12/0 = 0
1:12/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
2:12/0 = 0
2:12/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
3:12/0 = 0
3:12/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
4:12/0 = 0
4:12/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
5:12/0 = 0
5:12/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
6:12/0 = 0
6:12/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
7:12/0 = 0
7:12/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
8:12/0 = 0
8:12/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
9:12/0 = 0
9:12/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
10:12/0 = 0
10:12/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
11:12/0 = 0
11:12/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
12:12/0 = 0
12:12/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
0:13/0 = 0
0:13/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
1:13/0 = 0
1:13/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
2:13/0 = 0
2:13/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
3:13/0 = 0
3:13/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
4:13/0 = 0
4:13/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
5:13/0 = 0
5:13/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
6:13/0 = 0
6:13/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
7:13/0 = 0
7:13/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
8:13/0 = 0
8:13/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
9:13/0 = 0
9:13/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
10:13/0 = 0
10:13/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
11:13/0 = 0
11:13/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
12:13/0 = 0
12:13/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
0:14/0 = 0
0:14/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
1:14/0 = 0
1:14/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
2:14/0 = 0
2:14/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
3:14/0 = 0
3:14/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
4:14/0 = 0
4:14/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
5:14/0 = 0
5:14/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
6:14/0 = 0
6:14/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
7:14/0 = 0
7:14/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
8:14/0 = 0
8:14/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
9:14/0 = 0
9:14/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
10:14/0 = 0
10:14/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
11:14/0 = 0
11:14/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
12:14/0 = 0
12:14/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
13:14/0 = 0
13:14/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, -8, -4, 8, -4, 8, -8)
13:14/0/physics_layer_0/polygon_0/one_way = true
0:15/0 = 0
0:15/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
1:15/0 = 0
1:15/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
2:15/0 = 0
2:15/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
3:15/0 = 0
3:15/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
4:15/0 = 0
4:15/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
5:15/0 = 0
5:15/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
6:15/0 = 0
6:15/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
7:15/0 = 0
7:15/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
8:15/0 = 0
8:15/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
9:15/0 = 0
9:15/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
10:15/0 = 0
10:15/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
11:15/0 = 0
11:15/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
12:15/0 = 0
12:15/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
2:11/0 = 0
2:11/0/physics_layer_1/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
4:11/0 = 0
4:11/0/navigation_layer_0/polygon = SubResource("NavigationPolygon_1f1c6")

[sub_resource type="TileSet" id="TileSet_y2tep"]
physics_layer_0/collision_layer = 2
physics_layer_0/collision_mask = 0
physics_layer_1/collision_layer = 32
physics_layer_1/collision_mask = 0
navigation_layer_0/layers = 1
sources/0 = SubResource("TileSetAtlasSource_ftega")

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_4558p"]
radius = 4.0
height = 12.0

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_1f1c6"]
radius = 3.0
height = 10.0

[node name="Room" type="Node2D" unique_id=801174312]

[node name="TileMapLayer" type="TileMapLayer" parent="." unique_id=1337782774]
tile_map_data = PackedByteArray("AAACAAYAAAALAA4AAAACAAUAAAALAA4AAAACAAQAAAALAA4AAAACAAMAAAALAA4AAAADAAMAAAALAA4AAAAEAAMAAAALAA4AAAAFAAMAAAALAA4AAAAGAAMAAAALAA4AAAAHAAMAAAALAA4AAAAFAAUAAAALAA4AAAAFAAYAAAALAA4AAAAFAAcAAAALAA4AAAAFAAgAAAALAA4AAAAFAAkAAAALAA4AAAAFAAoAAAALAA4AAAAGAAoAAAALAA4AAAAHAAoAAAALAA4AAAAIAAoAAAALAA4AAAAJAAoAAAALAA4AAAAKAAoAAAALAA4AAAAMAAgAAAALAA4AAAAMAAkAAAALAA4AAAAMAAoAAAALAA4AAAAMAAsAAAALAA4AAAAMAAwAAAALAA4AAAAFAA0AAAALAA4AAAAGAA0AAAALAA4AAAAHAA0AAAALAA4AAAAIAA0AAAALAA4AAAAJAA0AAAALAA4AAAAKAA0AAAALAA4AAAALAA0AAAALAA4AAAAMAA0AAAALAA4AAAANAAwAAAALAA4AAAAOAAwAAAALAA4AAAAPAAwAAAALAA4AAAALAAMAAAALAA4AAAALAAQAAAALAA4AAAAMAAQAAAALAA4AAAAMAAUAAAALAA4AAAAMAAIAAAALAA4AAAALAAIAAAALAA4AAAACAAsAAAALAA4AAAAAAA8AAAALAA4AAAABAA8AAAALAA4AAAACAA8AAAALAA4AAAADAA8AAAALAA4AAAAEAA8AAAALAA4AAAAFAA8AAAALAA4AAAAGAA8AAAALAA4AAAAHAA8AAAALAA4AAAAIAA8AAAALAA4AAAAJAA8AAAALAA4AAAAKAA8AAAALAA4AAAALAA8AAAALAA4AAAAMAA8AAAALAA4AAAANAA8AAAALAA4AAAAOAA8AAAALAA4AAAAPAA8AAAALAA4AAAAPAA0AAAALAA4AAAAPAA4AAAALAA4AAAAAAA4AAAALAA4AAAAAAA0AAAALAA4AAAAAAAwAAAALAA4AAAAAAAsAAAALAA4AAAAAAAoAAAALAA4AAAAAAAkAAAALAA4AAAAAAAgAAAALAA4AAAAAAAcAAAALAA4AAAAAAAYAAAALAA4AAAAAAAUAAAALAA4AAAAAAAQAAAALAA4AAAAAAAMAAAALAA4AAAAAAAIAAAALAA4AAAAAAAEAAAALAA4AAAAAAAAAAAALAA4AAAABAAAAAAALAA4AAAACAAAAAAALAA4AAAADAAAAAAALAA4AAAAEAAAAAAALAA4AAAAFAAAAAAALAA4AAAAGAAAAAAALAA4AAAAHAAAAAAALAA4AAAAIAAAAAAALAA4AAAAJAAAAAAALAA4AAAAKAAAAAAALAA4AAAALAAAAAAALAA4AAAAMAAAAAAALAA4AAAANAAAAAAALAA4AAAAOAAAAAAALAA4AAAAPAAAAAAALAA4AAAAPAAEAAAALAA4AAAAPAAIAAAALAA4AAAAPAAMAAAALAA4AAAAPAAQAAAALAA4AAAAPAAUAAAALAA4AAAAPAAYAAAALAA4AAAAPAAcAAAALAA4AAAAPAAgAAAALAA4AAAAPAAkAAAALAA4AAAAPAAoAAAALAA4AAAAPAAsAAAALAA4AAAAMAAMAAAALAA4AAAAHAAgAAAAEAAsAAAAHAAcAAAAEAAsAAAAHAAYAAAAEAAsAAAAHAAUAAAAEAAsAAAAHAAQAAAAEAAsAAAAGAAQAAAAEAAsAAAAFAAQAAAAEAAsAAAAEAAQAAAAEAAsAAAADAAQAAAAEAAsAAAADAAUAAAAEAAsAAAADAAYAAAAEAAsAAAADAAcAAAAEAAsAAAACAAcAAAAEAAsAAAABAAcAAAAEAAsAAAABAAYAAAAEAAsAAAABAAUAAAAEAAsAAAABAAQAAAAEAAsAAAABAAMAAAAEAAsAAAABAAIAAAAEAAsAAAABAAEAAAAEAAsAAAACAAEAAAAEAAsAAAACAAIAAAAEAAsAAAADAAIAAAAEAAsAAAADAAEAAAAEAAsAAAAEAAEAAAAEAAsAAAAEAAIAAAAEAAsAAAAFAAIAAAAEAAsAAAAFAAEAAAAEAAsAAAAGAAEAAAAEAAsAAAAGAAIAAAAEAAsAAAAHAAIAAAAEAAsAAAAHAAEAAAAEAAsAAAAIAAEAAAAEAAsAAAAIAAIAAAAEAAsAAAAIAAMAAAAEAAsAAAAIAAQAAAAEAAsAAAAIAAUAAAAEAAsAAAAIAAYAAAAEAAsAAAAIAAcAAAAEAAsAAAAIAAgAAAAEAAsAAAAIAAkAAAAEAAsAAAAHAAkAAAAEAAsAAAAGAAkAAAAEAAsAAAAGAAgAAAAEAAsAAAAGAAcAAAAEAAsAAAAGAAYAAAAEAAsAAAAGAAUAAAAEAAsAAAAJAAkAAAAEAAsAAAAJAAgAAAAEAAsAAAAJAAcAAAAEAAsAAAAJAAYAAAAEAAsAAAAJAAUAAAAEAAsAAAAJAAQAAAAEAAsAAAAJAAMAAAAEAAsAAAAJAAIAAAAEAAsAAAAJAAEAAAAEAAsAAAAKAAEAAAAEAAsAAAAKAAIAAAAEAAsAAAAKAAMAAAAEAAsAAAAKAAQAAAAEAAsAAAAKAAUAAAAEAAsAAAAKAAYAAAAEAAsAAAAKAAcAAAAEAAsAAAAKAAgAAAAEAAsAAAAKAAkAAAAEAAsAAAALAAkAAAAEAAsAAAALAAgAAAAEAAsAAAALAAcAAAAEAAsAAAALAAYAAAAEAAsAAAALAAUAAAAEAAsAAAAMAAYAAAAEAAsAAAAMAAcAAAAEAAsAAAANAAcAAAAEAAsAAAANAAYAAAAEAAsAAAANAAUAAAAEAAsAAAANAAQAAAAEAAsAAAANAAMAAAAEAAsAAAANAAIAAAAEAAsAAAANAAEAAAAEAAsAAAAMAAEAAAAEAAsAAAALAAEAAAAEAAsAAAAOAAEAAAAEAAsAAAAOAAIAAAAEAAsAAAAOAAMAAAAEAAsAAAAOAAQAAAAEAAsAAAAOAAUAAAAEAAsAAAAOAAYAAAAEAAsAAAAOAAcAAAAEAAsAAAAOAAgAAAAEAAsAAAANAAgAAAAEAAsAAAANAAkAAAAEAAsAAAANAAoAAAAEAAsAAAANAAsAAAAEAAsAAAAOAAsAAAAEAAsAAAAOAAoAAAAEAAsAAAAOAAkAAAAEAAsAAAALAAoAAAAEAAsAAAALAAsAAAAEAAsAAAAKAAsAAAAEAAsAAAAJAAsAAAAEAAsAAAAIAAsAAAAEAAsAAAAHAAsAAAAEAAsAAAAGAAsAAAAEAAsAAAAFAAsAAAAEAAsAAAAEAAsAAAAEAAsAAAAEAAoAAAAEAAsAAAAEAAkAAAAEAAsAAAAEAAgAAAAEAAsAAAAEAAcAAAAEAAsAAAAEAAYAAAAEAAsAAAAEAAUAAAAEAAsAAAADAAgAAAAEAAsAAAACAAgAAAAEAAsAAAABAAgAAAAEAAsAAAABAAkAAAAEAAsAAAABAAoAAAAEAAsAAAABAAsAAAAEAAsAAAABAAwAAAAEAAsAAAABAA0AAAAEAAsAAAABAA4AAAAEAAsAAAACAA4AAAAEAAsAAAACAA0AAAAEAAsAAAACAAwAAAAEAAsAAAADAAwAAAAEAAsAAAADAAsAAAAEAAsAAAADAAoAAAAEAAsAAAADAAkAAAAEAAsAAAACAAkAAAAEAAsAAAACAAoAAAAEAAsAAAADAA0AAAAEAAsAAAADAA4AAAAEAAsAAAAEAA4AAAAEAAsAAAAEAA0AAAAEAAsAAAAEAAwAAAAEAAsAAAAFAAwAAAAEAAsAAAAGAAwAAAAEAAsAAAAHAAwAAAAEAAsAAAAIAAwAAAAEAAsAAAAJAAwAAAAEAAsAAAAKAAwAAAAEAAsAAAALAAwAAAAEAAsAAAAFAA4AAAAEAAsAAAAGAA4AAAAEAAsAAAAHAA4AAAAEAAsAAAAIAA4AAAAEAAsAAAAJAA4AAAAEAAsAAAAKAA4AAAAEAAsAAAALAA4AAAAEAAsAAAAMAA4AAAAEAAsAAAANAA4AAAAEAAsAAAANAA0AAAAEAAsAAAAOAA0AAAAEAAsAAAAOAA4AAAAEAAsAAAA=")
tile_set = SubResource("TileSet_y2tep")

[node name="RoomInstance" parent="." unique_id=71231764 instance=ExtResource("2_gpp8e")]

[node name="RoomRespawn" parent="." unique_id=328631649 instance=ExtResource("3_qnosk")]
position = Vector2(128, 42)

[node name="Player" type="CharacterBody2D" parent="." unique_id=478792179]
position = Vector2(152, 30)
collision_mask = 2
script = ExtResource("4_yq6r3")

[node name="Sprite2D" type="Sprite2D" parent="Player" unique_id=716055484]
texture = ExtResource("5_4558p")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Player" unique_id=1628637776]
shape = SubResource("CapsuleShape2D_4558p")

[node name="Enemy" type="CharacterBody2D" parent="." unique_id=619426013 node_paths=PackedStringArray("target")]
position = Vector2(151, 120)
collision_mask = 2
script = ExtResource("6_1f1c6")
target = NodePath("../Player")

[node name="Sprite2D" type="Sprite2D" parent="Enemy" unique_id=403501594]
texture = ExtResource("6_1phjo")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Enemy" unique_id=32163110]
position = Vector2(1, 0)
rotation = 1.5707964
shape = SubResource("CapsuleShape2D_1f1c6")

[node name="NavigationAgent2D" type="NavigationAgent2D" parent="Enemy" unique_id=627294426]
path_postprocessing = 1
path_search_max_polygons = 10000
path_search_max_distance = 100.0
debug_enabled = true

[node name="Timer" type="Timer" parent="Enemy" unique_id=425451963]
wait_time = 0.1
autostart = true

[connection signal="timeout" from="Enemy/Timer" to="Enemy" method="_on_timer_timeout"]
